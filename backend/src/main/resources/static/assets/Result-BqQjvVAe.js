import{d as p,u as g,r as c,j as e,P as y,M as N,e as P,s as S,a6 as T}from"./index-C2pazGou.js";import{u as b,L as i,C as R,P as w}from"./paginationStore-Dw9cQE_1.js";import{T as t,f as l,R as C,a as v}from"./date-DcI7OpYU.js";import"./index-pxOZ5Uo0.js";function A(){const{searchKeyword:a,setEditTodo:m}=p(),{member:n}=g(),{currentPage:o,setTotalPages:d}=b(),[x,h]=c.useState([]),[u,j]=c.useState(0);c.useEffect(()=>{(async()=>{if(a)try{const r=await T(n,a,o-1,3);console.log(r),h(r.content),d(r.totalPages)}catch(r){console.error("ê²€ìƒ‰ API í˜¸ì¶œ ì‹¤íŒ¨:",r)}})()},[a,n,o,u]);const f=async s=>{console.log(`ì™„ë£Œ ìƒíƒœ ë³€ê²½: ${s.id}`)};return e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:['ðŸ” ê²€ìƒ‰ ê²°ê³¼: "',a,'"']}),e.jsx(i,{grid:{gutter:16,column:1},dataSource:x,renderItem:s=>e.jsx(i.Item,{children:e.jsxs(R,{title:s.title,className:"shadow-md",children:[e.jsx("p",{className:"text-gray-600",children:s.description}),e.jsxs("div",{className:"mt-2 flex justify-between items-center mb-2",children:[s.category?e.jsx(t,{color:"blue",children:s.category}):e.jsx("div",{}),e.jsx(t,{color:s.priority==="A"?"red":"orange",children:y(s.priority)})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[l(s.starts)," ~ ",l(s.ends)]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(t,{className:"cursor-pointer",color:s.complete===1?"green":"red",onClick:()=>f(s),children:s.complete?e.jsxs("span",{children:["ì™„ë£Œë¨Â Â ",e.jsx(C,{})]}):e.jsxs("span",{children:["ì§„í–‰ ì¤‘Â Â ",e.jsx(v,{})]})}),e.jsxs("div",{className:"flex",children:[e.jsx(t,{color:"yellow",className:"cursor-pointer",onClick:()=>m(s),children:"ìˆ˜ì •í•˜ê¸°"}),e.jsx(t,{className:"cursor-pointer",onClick:async()=>{N.confirm({title:"ì‚­ì œí•˜ë©´ ë³µêµ¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",content:"ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",onOk:async()=>{await P(s.id),S.success("ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),j(r=>r+1)}})},children:"ì‚­ì œí•˜ê¸°"})]})]})]})})}),e.jsx("div",{className:"flex justify-center mt-2 sm:mt-4",children:e.jsx(w,{})})]})}export{A as default};
