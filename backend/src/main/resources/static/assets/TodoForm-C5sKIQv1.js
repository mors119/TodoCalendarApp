import{u as p,r as l,j as e,k as x}from"./index-BBV4Lusk.js";import{u as g}from"./EditTodo-Ccq0_jB9.js";import{s as f}from"./date-DgoWteu9.js";function j({setAddBtn:c}){const{selectedDate:o}=g(),{member:i}=p(),[s,t]=l.useState({title:"",description:"",starts:"",ends:"",priority:"B",category:"",userId:i});l.useEffect(()=>{o&&t(n=>({...n,starts:f(o)}))},[o]);const r=n=>{const{name:a,value:u}=n.target;t(m=>({...m,[a]:u}))},d=n=>{if(n.preventDefault(),!s.title.trim()){alert("제목을 입력하세요");return}try{x(s)}catch(a){console.error("API 요청 실패:",a)}finally{t({title:"",description:"",starts:"",ends:"",priority:"B",category:"",userId:i}),c()}};return e.jsx("div",{className:"sm:p-4 rounded-md",children:e.jsxs("form",{onSubmit:d,className:"flex flex-col space-y-3 gap-3",children:[e.jsx("input",{type:"text",name:"title",placeholder:"제목",value:s.title,onChange:r,className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300"}),e.jsx("textarea",{name:"description",placeholder:"설명",value:s.description,onChange:r,className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300"}),e.jsxs("div",{className:"flex justify-between mb-0",children:[e.jsx("span",{className:"leading-[38px] sm:block hidden",children:"시작 "}),e.jsx("input",{type:"date",name:"starts",value:s.starts,onChange:r,className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300"}),e.jsx("span",{className:"flex items-center sm:hidden",children:"~"}),e.jsx("span",{className:"leading-[38px] sm:block hidden",children:" 종료 "}),e.jsx("input",{type:"date",name:"ends",value:s.ends,onChange:r,className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300"})]}),e.jsx("div",{className:"w-full px-3 py-2 border rounded-lg mb-0",children:e.jsxs("select",{name:"priority",value:s.priority,onChange:r,className:"focus:outline-none focus:ring-2 focus:ring-amber-300 w-full",children:[e.jsx("option",{value:"A",children:"🔥 HIGH"}),e.jsx("option",{value:"B",children:"⚡ MEDIUM"}),e.jsx("option",{value:"C",children:"🌱 LOW"})]})}),e.jsx("input",{type:"text",name:"category",placeholder:"카테고리",value:s.category,onChange:r,className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-300"}),e.jsx("button",{type:"submit",className:"mt-3 px-4 py-2 bg-amber-300/20 text-white rounded-lg hover:bg-amber-300/50 transition border cursor-pointer",children:"추가하기"})]})})}export{j as T};
